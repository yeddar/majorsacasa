<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{fragments/base}">
<head>
    <title> MaC - Listado servicios </title>
    <meta charset="UTF-8"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css"/>
</head>

<body>
<div layout:fragment="content">

    <h2 style="text-align:center"> Servicios de pago </h2>
    <hr>
            <article>
                <p> Se le muestran a continuación los servicios de pago que ha contratado desde majorsACasa.
                    Primero se le muestra la información temporal y de estado del servicio. Su servicio puede estar
                    <b>SIN EVALUAR</b>: significa que todavía ningún responsable del sistema a evaluado su petición.
                    Puede estar <b>CANCELADA</b> que significará que se le ha denengado el servicio particular.
                    <b>ESPERA_EMPRESA</b> que significa que para completarse el servicio ha de esperar a que la empresa
                    dé la información que se requiere de ella para que se concrete el servicio.
                    Si el estado en <b> ACTIVO </b> significa que el servicio está recibiendose
                </p>
                <p>
                    En el segundo apartado tendrá el nombre de la empresa encargada y un teléfono de contacto por si
                    le fuera necesario notificar alguna incidencia.
                </p>
                <p>
                    Por último se le muestra la información específica de su servicio. Recuerde que esta información
                    solo estará completa cuando la empresa dé respuesta a su servicio.
                </p>

            </article>
    <br>

    <div class="article_servs">
    <h2> <u> Servicio Cátering </u> </h2>
    <div th:if="${servicioCatering != null}">

                <p th:text="'Servicio en estado: ' +
                ${servEmpresaEspCat.serv_status}"> </p>
                <hr>
        <div class="row">
                <th:block th:if="${servEmpresaEspCat.f_ini != NULL}">
                    <p th:text="'Su servicio ha sido revisado favorablemente a fecha: ' +
                        ${servEmpresaEspCat.f_ini}"> </p>
                 </th:block>

                <th:block th:if="${servEmpresaEspCat.f_fin != NULL}">
                    <p th:text="'Indico como fecha de finalización el día: ' +
                        ${servEmpresaEspCat.f_fin}"> </p>
                 </th:block>

                <p th:text="'Nombre de empresa: ' + ${empresaCat.nombre}
                + ' - El teléfono de contacto es: ' +  ${empresaCat.tlf}"></p>



                <div class="column_50">
                    <h5> <b> Información de petición </b> </h5>
                    <br>
                    <b>Tipo de menu: </b>
                    <p th:text="${servicioCatering.tipo_comida}"> </p>
                    <b>Días a la semana: </b>
                    <p>
        <span th:if="${#strings.contains(servicioCatering.dias_semana,'L')}">
            Lunes -
        </span>
                        <span th:if="${#strings.contains(servicioCatering.dias_semana,'M')}">
            Martes -
        </span>
                        <span th:if="${#strings.contains(servicioCatering.dias_semana,'X')}">
            Miércoles -
        </span>
                        <span th:if="${#strings.contains(servicioCatering.dias_semana,'J')}">
            Jueves -
        </span>
                        <span th:if="${#strings.contains(servicioCatering.dias_semana,'V')}">
            Viernes
        </span>
                    </p>
                </div>
           <!-- <p th:text="${servicioCatering.horas_aprox}"> </p> -->
                <div class="column_50">
                    <h5> <b> Especificación de empresa </b> </h5>
                    <br>
                    <b>Hora aproximada de llegada: </b>
                    <p th:text="${servicioCatering.hora_aprox}"> </p>
                </div>
            </div>
        </div>

    <div th:if="${servicioCatering == null}">
            <p> No se ha contratado servicio de catering </p>
        </div>
    </div>

    <div class="article_servs">
     <h2> <u>Servicio Sanitario </u></h2>
        <div th:if="${servicioSanitario != null}">

            <p th:text="'Servicio en estado: ' +
                ${servEmpresaEspSan.serv_status}"> </p>
                <hr>
            <div class="row">
            <th:block th:if="${servEmpresaEspSan.f_ini != NULL}">
                <p th:text="'Su servicio ha sido revisado favorablemente a fecha: ' +
                        ${servEmpresaEspSan.f_ini}"> </p>
            </th:block>

            <th:block th:if="${servEmpresaEspSan.f_fin != NULL}">
                <p th:text="'Indico como fecha de finalización el día: ' +
                        ${servEmpresaEspSan.f_fin}"> </p>
            </th:block>

            <p th:text="'Nombre de empresa: ' + ${empresaSan.nombre}
                + ' - El teléfono de contacto es: ' +  ${empresaSan.tlf}"></p>

            <div class="column_50">
                <h5> <b> Información de petición </b> </h5>
                <br>
                <p th:text="'Descripción de consulta: ' + ${servicioSanitario.necesidad}"> </p>
            </div>
            <!-- <p th:text="${servicioCatering.horas_aprox}"> </p> -->
            <div class="column_50">
                <h5> <b> Especificación de empresa </b> </h5>
                <br>
                <p th:text="'Día de visita: ' + ${servicioSanitario.dia_visita}">

                <th:block th:if="${servicioSanitario.manana_tarde == 'T'}">
                    <p>Momento de visita: Tarde </p>
                </th:block>

                <th:block th:if="${servicioSanitario.manana_tarde == 'M'}">
                    <p>Momento de visita: Mañana </p>
                </th:block>
                </p>
            </div>
            </div>
        </div>

        <div th:if="${servicioSanitario == null}">
            <p> No se ha contratado servicio sanitario </p>
        </div>
    </div>

    <div class="article_servs">
    <div> <u> <h2> Servicio Limpieza</h2> </u>  </div>
    <div th:if="${servicioLimpieza != null}">

        <p th:text="'Servicio en estado: ' +
                ${servEmpresaEspLimp.serv_status}"> </p>
        <hr>

        <th:block th:if="${servEmpresaEspLimp.f_ini != NULL}">
            <p th:text="'Su servicio ha sido revisado favorablemente a fecha: ' +
                        ${servEmpresaEspLimp.f_ini}"> </p>
        </th:block>

        <th:block th:if="${servEmpresaEspLimp.f_fin != NULL}">
            <p th:text="'Indico como fecha de finalización el día: ' +
                        ${servEmpresaEspLimp.f_fin}"> </p>
        </th:block>

        <p th:text="'Nombre de empresa: ' + ${empresaLim.nombre}
                + ' - El teléfono de contacto es: ' +  ${empresaLim.tlf}"></p>

        <p th:text=" 'Las horas que indicó fueron: ' + ${servicioLimpieza.horas}"> </p>

        <p> Las franjas especificadas por la empresa son: </p>
        <table class="table">
            <thead>
            <tr>
                <th> dia_semana </th>
                <th> h_ini </th>
                <th> h_fin</th>

            </tr>
            </thead>
            <tbody>
            <tr th:each="franja: ${franjasLimpieza}">
                <td>
                    <span th:if="${#strings.contains(franja.diaSemana,'L')}">
                        Lunes
                    </span>
                    <span th:if="${#strings.contains(franja.diaSemana,'M')}">
                        Martes
                    </span>
                    <span th:if="${#strings.contains(franja.diaSemana,'X')}">
                        Miércoles
                    </span>
                    <span th:if="${#strings.contains(franja.diaSemana,'J')}">
                        Jueves
                    </span>
                    <span th:if="${#strings.contains(franja.diaSemana,'V')}">
                        Viernes
                    </span>
                </td>


                <td th:text="${franja.hIni}"></td>
                <td th:text="${franja.hFin}"></td>
            </tr>
            </tbody>
        </table>
            <!-- <p th:text="${servicioCatering.horas_aprox}"> </p> -->
        </div>

    <div th:if="${servicioLimpieza == null}">
        <p> No se ha contratado servicio de limpieza</p>
    </div>
    </div>

</div>
</body>
</html>