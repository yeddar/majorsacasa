<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{fragments/base}">

<head>
    <title> FSV </title>
    <meta charset="UTF-8"/>
    <link rel="stylesheet"
          href="https://maxcdn.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css"/>
    <link rel="stylesheet" type="text/css" href="../../static/popup-style.css" th:href="@{/popup-style.css}"/>
</head>
<body>
<div layout:fragment="content">
    <h2 style="text-align:center"> Disponibilidad para ofrecer ayuda </h2>
    <hr>
    <div th:if="${#lists.isEmpty(franjas)}">
        <h4> No tiene ninguna franja ofrecida. Añada una franja desde este formulario.</h4>
    </div>
    <table th:unless="${#lists.isEmpty(franjas)}" class="table table-striped">
        <tr>
            <th colspan="4">FRANJAS ACTUALES</th>
        </tr>

        <tr>
            <th> Dia semana</th>
            <th> Hora inicio</th>
            <th> Hora fin </th>
            <th></th>
        </tr>


        <tr th:each="fr: ${franjas}">
            <td th:text="${fr.diaSemana}"></td>
            <td th:text="${fr.hIni}"></td>
            <td th:text="${fr.hFin}"></td>
            <td><a th:href="@{/voluntario/fsv/del_franja/{id}(id=${fr.id})}"> <i class="flaticon-can"></i></a></td>

        </tr>

    </table>
    <hr>
    <h3>
        Añadir franjas horarias:
    </h3>
    <form action="#" th:action="@{/voluntario/fsv/add_franja}"
          th:object="${fsv}" method="post">
        <table class="table table-striped">
            <tr>

                <th colspan="3">
                    <label> Selecciona día de la semana: </label>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" th:name="dia_semana" id="inlineRadio1" th:value="L" checked>
                        <label class="form-check-label" for="inlineRadio1">Lunes</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" th:name="dia_semana" id="inlineRadio2" th:value="M">
                        <label class="form-check-label" for="inlineRadio2">Martes</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" th:name="dia_semana" id="inlineRadio3" th:value="X">
                        <label class="form-check-label" for="inlineRadio3">Miércoles</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" th:name="dia_semana" id="inlineRadio4" th:value="J">
                        <label class="form-check-label" for="inlineRadio4">Jueves</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="dia_semana" id="inlineRadio5" value="V">
                        <label class="form-check-label" for="inlineRadio5">Viernes</label>
                    </div>
                </th>
            </tr>
            <tr>
                <th>
                    <label> Hora inicial: </label>
                    <input type="time" th:field="*{hIni}"/>
                    <div class="error" th:if="${#fields.hasErrors('hIni')}" th:errors="*{hIni}"></div>
                </th>
                <th>
                    <label> Hora final: </label>
                    <input type="time" th:field="*{hFin}"/>
                    <div class="error" th:if="${#fields.hasErrors('hFin')}" th:errors="*{hFin}"></div>
                </th>
                <th><input type="submit" value="Añadir franja"/></th>
            </tr>
        </table>
    </form>
    <table th:unless="${#lists.isEmpty(franjas_nuevas)}" class="table table-striped">

        <tr>
            <th colspan="4">NUEVAS FRANJAS</th>
        </tr>

        <tr>
            <th> Dia semana</th>
            <th> Hora inicio</th>
            <th> Hora fin </th>
            <th></th>
        </tr>


        <tr th:each="fr: ${franjas_nuevas}">
            <td th:text="${fr.diaSemana}"></td>
            <td th:text="${fr.hIni}"></td>
            <td th:text="${fr.hFin}"></td>

            <td><a href="#popup-remove"> <i class="flaticon-can"></i></a></td>
            <div id="popup-remove" class="overlay_">
                <div class="popup_">
                    <h2>Confirmar borrado</h2>
                    <a class="close_" href="#">&times;</a>
                    <div class="content_">
                        ¿Desea borrar la franja definitivamente?
                        <br><br>
                        <form action="#" th:action="@{/voluntario/fsv/del_franja_nueva/{id}(id=${fr.id})}">
                            <input type="submit" value="Borrar franja" />
                        </form>

<!--                        <a th:href="@{/voluntario/fsv/del_franja_nueva/{id}(id=${fr.id})}"> Borrar </a>-->
                    </div>
                </div>
            </div>

        </tr>

    </table>

    <div th:unless="${#lists.isEmpty(franjas_nuevas)}" class="container">
        <div class="container">
            <form action="#" th:action="@{/voluntario/vol_schedule}" method="post">
                <input type="submit" value="Solicitar"/>
            </form>
        </div>
    </div>
</div>


</body>
</html>